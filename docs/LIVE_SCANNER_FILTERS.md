# ⚽ Live 主界面筛选条件总表（量化终端版）

**目标**: 预测 80 分钟进球数 > 0.5 的概率
**产品定位**: 同花顺选股器 + 雷速比分的结合体
**更新时间**: 2026-03-01

---

## 📋 筛选条件分类

### 1️⃣ 基础必备（MVP）

| 分类 | 筛选字段 | 说明 | 建议默认值 | MVP必做 | 备注 |
|------|---------|------|-----------|---------|------|
| ⏱ 时间 | 比赛分钟 ≥ | 过滤赛中时间段 | 75 / 80 | ✅ | 80分钟是核心 |
| ⏱ 时间 | 补时阶段 | 是否只看补时 | 开关 | ❌ | 可做开关 |
| ⚽ 比分 | 分差 ≤ | 当前比分差 | 1 | ✅ | 只看1球内 |
| ⚽ 比分 | 指定比分 | 0-0 / 1-1 等 | 可选 | ❌ | 进阶用 |

---

### 2️⃣ 场面压制类（结构失衡核心）

| 分类 | 筛选字段 | 说明 | 建议默认值 | MVP | 备注 |
|------|---------|------|-----------|-----|------|
| 📊 射门 | 射门差 ≥ | 主客总射门差 | 5 | ✅ | **最关键之一** |
| 📊 射正 | 射正差 ≥ | 射正次数差 | 2 | ❌ | 可后期加 |
| 📊 xG | xG差 ≥ | 预期进球差 | 0.5 | ✅ | **核心指标** |
| 📊 控球 | 控球率 ≥ | 单方控球 | 60% | ❌ | 辅助指标 |
| 📊 危险进攻 | 危险进攻差 ≥ | 危险进攻次数差 | 10 | ❌ | 看数据源支持 |

---

### 3️⃣ 情境类（战术状态）

| 分类 | 筛选字段 | 说明 | 默认 | MVP | 备注 |
|------|---------|------|------|-----|------|
| 🏆 强弱 | 强队落后 | 系统自动识别 | 开关 | ❌ | 需要ELO或赔率 |
| 🏆 主客 | 主队压制 | 主队明显占优 | 开关 | ❌ | - |
| 🟥 红牌 | 是否红牌 | 有红牌过滤 | 可选 | ❌ | 影响模型 |
| 🟥 红牌 | 红牌后X分钟 | 红牌发生后阶段 | 5分钟 | ❌ | 高级模型 |

---

### 4️⃣ 最近时段攻势类（非常关键）⭐

| 分类 | 筛选字段 | 说明 | 默认 | MVP | 备注 |
|------|---------|------|------|-----|------|
| 📈 最近10分钟 | 射门 ≥ | 最近10分钟射门数 | 3 | ✅ | **核心增强** |
| 📈 最近10分钟 | xG ≥ | 最近阶段xG | 0.3 | ❌ | 数据需支持 |
| 📈 最近5分钟 | 连续角球 | 是否持续角球 | 开关 | ❌ | 可选 |

---

### 5️⃣ 赔率 / EV 类（进阶版本）

| 分类 | 筛选字段 | 说明 | 默认 | MVP | 备注 |
|------|---------|------|------|-----|------|
| 📉 赔率 | 大小球赔率 ≥ | 当前赔率 | 1.9 | ❌ | 进阶 |
| 📊 模型 | 晚期进球概率 ≥ | 模型输出概率 | 25% | ❌ | v2阶段 |
| 📊 EV | EV ≥ | 模型概率-市场概率 | 5% | ❌ | 专业版 |
| 📊 市场偏移 | 概率偏差 ≥ | 市场未修正 | 7% | ❌ | 高阶 |

---

## 🎯 MVP 最小可用筛选组合（推荐第一版）

**只做这 5 个字段**:

| 字段 | 条件 |
|------|------|
| 比赛分钟 ≥ | 75 或 80 |
| 分差 ≤ | 1 |
| xG差 ≥ | 0.5 |
| 射门差 ≥ | 5 |
| 最近10分钟射门 ≥ | 3 |

### 产品命名

**🔥 倪春军 80分钟结构失衡扫描器 v1**

---

## 🧠 快捷策略按钮（一键筛选）

| 策略名称 | 自动条件 |
|---------|---------|
| 🔥 80分钟绝杀 | 80+ + xG差≥0.5 + 射门差≥5 |
| ⚡ 强队反扑 | 强队落后 + 控球≥60% |
| 📈 高压迫模式 | 最近10分钟射门≥4 |
| 🎯 失衡0-0 | 75+ + 0-0 + xG差≥0.6 |

---

## 🏗 主界面逻辑原则

1. ✅ **默认显示所有比赛** - 无筛选时显示全部
2. ✅ **筛选条件不改变结构** - 只高亮/隐藏，不重排
3. ✅ **符合条件比赛自动高亮** - 视觉突出
4. ✅ **可排序** - 按绝杀指数 / 射门差 / xG差

---

## 📊 数据字段映射

### 前端显示字段 → 后端API字段

| 前端字段 | 后端来源 | API端点 |
|---------|---------|---------|
| 比赛分钟 | `match.minute` | LiveCore ← /fixtures?live=all |
| 分差 | `Math.abs(match.home.score - match.away.score)` | LiveCore |
| xG差 | `Math.abs(match.stats.xG.home - match.stats.xG.away)` | LiveStatsCore ← /fixtures/statistics |
| 射门差 | `Math.abs(match.shots.home - match.shots.away)` | LiveStatsCore |
| 最近10分钟射门 | `match.recent10MinShots` | **需实现** (从events计算) |

---

## 🚀 实现优先级

### Phase 1: MVP核心（必做）✅
- [x] 基础筛选面板组件
- [ ] 5个核心筛选字段
- [ ] 比赛列表高亮逻辑
- [ ] 排序功能（射门差/xG差）
- [ ] "最近10分钟射门"计算逻辑

### Phase 2: 增强功能
- [ ] 快捷策略按钮
- [ ] 强队识别（基于赔率）
- [ ] 红牌检测
- [ ] 保存筛选组合

### Phase 3: 专业版
- [ ] 模型概率计算
- [ ] EV 计算
- [ ] 历史回测
- [ ] 信号强度评分

---

## 📐 UI 参考布局

```
┌─────────────────────────────────────────────────────────────┐
│ 🔍 Live 扫描器                          [快捷策略▼] [排序▼]  │
├─────────────────────────────────────────────────────────────┤
│ 筛选条件                                                     │
│ ⏱ 分钟≥ [80▼]  ⚽ 分差≤ [1▼]  📊 xG差≥ [0.5]                │
│ 📊 射门差≥ [5]  📈 近10分钟射门≥ [3]     [重置] [应用]      │
├─────────────────────────────────────────────────────────────┤
│ 符合条件: 3 场 / 总计: 12 场进行中                           │
├─────────────────────────────────────────────────────────────┤
│ 🔥 英超 82' 1-1  曼城 vs 阿森纳                              │
│    射门差: 8  xG差: 0.7  近10分钟射门: 5  [详情]             │
├─────────────────────────────────────────────────────────────┤
│ ⚡ 西甲 78' 0-0  皇马 vs 巴萨                                 │
│    射门差: 6  xG差: 0.6  近10分钟射门: 4  [详情]             │
└─────────────────────────────────────────────────────────────┘
```

---

## 🎨 视觉设计建议

### 高亮颜色方案
- 🔥 **红色** (最高优先级): xG差≥0.8 + 射门差≥8
- 🟡 **黄色** (中优先级): xG差≥0.5 + 射门差≥5
- 🟢 **绿色** (符合条件): 满足最低筛选条件
- ⚪ **灰色** (不符合): 不满足筛选条件

### 图标系统
- 🔥 绝杀机会
- ⚡ 强队压制
- 📈 攻势上涨
- 🎯 结构失衡
- 🟥 红牌影响

---

**文档所有者**: 倪春军
**最后更新**: 2026-03-01
**状态**: 待实现 → MVP开发中
